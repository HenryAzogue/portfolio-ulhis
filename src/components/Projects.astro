---
import LinkCard from './LinkCard.astro';
import SubTitle from './SubTitle.astro';
import {projects} from '@lib/cv.json';

---
<section class="projects" id="projects">
  <SubTitle letterFrist="P" letterSecond='royectos'/>
  <div class="project-content">
    {
      projects.map(({title, tags, imagen, imgDescription, highlights, urlProjects})=>{
        return(
          <li>
            <article class="article">
              <header class="article-header">
                <h2 class="header-title">{title}</h2>
                <div class="context">
                  <p class="context-paragraph">{highlights[0]}</p>
                  <div class="context-tags">{tags.map((tag)=>{return(<span class="tag">{tag}</span>)})}</div>
                </div>
                <div class="url-rrss">
                  <LinkCard href={urlProjects[2]} target="_blank">
                    <svg  
                      slot="after"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      >
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25" />
                        <path d="M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                        <path d="M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                        <path d="M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" />
                    </svg>
                    Dise√±o
                  </LinkCard>
                </div>
              </header>
              <footer class="article-footer">
                <img class="footer-image" src={imagen} alt={imgDescription} decoding="async" loading="lazy" />
              </footer>
            </article>
          </li>

        )
      })
    }
  </div>
</section>

<style>
  li{
    list-style: none;
    border-radius: 1px;
    padding: 2rem 0;
    border-bottom: solid 1px var(--c-burning-sand-light);
  }
  .projects{
    margin: 4rem auto;
    width: var(--z-box);
  }
  .project-content{
    display: flex;
    flex-direction: column;
    gap: 16px;
    width: 100%;
  }
  .article{
    display: flex;
    flex-direction: column;
    gap: 2rem;    

    .article-header{
      display: flex;
      flex-direction: column;
      gap: 1rem;
      
      .header-title{
        color: var(--c-big-stone);
        font-size: var(--s-subtitle);
        margin: 0;
      }
    }
  }
  .context{
    font-size: var(--s-paragraph);
    display: flex;
    flex-direction: column;
    gap: 1rem;

    .context-paragraph{
      color: var(--c-big-stone-high);
      margin: 0;
      padding-bottom: 5px;
    }
  }
  .context-tags{
    display: flex;
    flex-flow: row wrap;
    gap: 10px;
    margin: 0;
    width: 100%;

    .tag{
      color: var(--c-burning-sand);
      font-style: italic;
      font-weight: 400;
    }
  }
  .url-rrss{
    border-radius: var(--b-radius);
    border: solid 1px var(--c-burning-sand-light);
    padding: 1rem;
    display: flex;
    flex-flow: row wrap;
    gap: 10px;
  }
  svg{
    width: 16px;
    height: 16px;
  }
  .article-footer{
    .footer-image{
      aspect-ratio: 16/9;
      object-fit: cover;
      border-radius: var(--b-radius);
      border: solid 1px var(--c-burning-sand-light);
      width: 100%;
      height: 100%;
    }
  }
  @media(width >= 743px){
    .article{
      display: grid;
      grid-template-columns: 1fr 1fr;
    }
  }
</style>